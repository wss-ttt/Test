<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}
			
			.box {
				width: 400px;
				height: 400px;
				background-color: #ccc;
				margin: 100px auto;
			}
			.box.max{
				position: fixed;
				top:0;
				left: 0;
				width: 100%;
				height: 100%;
				margin: 0;
			}
			
			#main {
				width: 100%;
				height: 100%;
			}
			.btns{
				position: fixed;
				top:0;
				left: 0;
				height: 100px;
				width: 100%;
				background-color: rgba(0,0,0,.5);
			}
		</style>
	</head>

	<body>
		<div class="box">
			<div id="main">
			</div>
		</div>
		<div class="btns">
			<button>改变div大小</button>
		</div>
	</body>
	<script src="js/echarts.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/jquery-1.8.3.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		var myChart = null;

		initChart();
		
		// 获取元素
		var btn =document.querySelector('button');
		var box = document.querySelector('.box');
		btn.onclick = function(){
			box.classList.add('max');
//			$(window).trigger('resize');
		}

		function initChart() {
			if(myChart != null && myChart != "" && myChart != undefined) {
				myChart.dispose();
			}
			myChart = echarts.init(document.getElementById('main'));
			var option = {
				xAxis: {
					type: 'category',
					data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
				},
				yAxis: {
					type: 'value'
				},
				series: [{
					data: [120, 200, 150, 80, 70, 110, 130],
					type: 'bar'
				}]
			};

			myChart.setOption(option);
			// 图表自适应
			window.onresize = myChart.resize;
		};
	</script>

</html>