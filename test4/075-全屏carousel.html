<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<title></title>
		<link rel="stylesheet" href="css/bootstrap.css" />
		<style type="text/css">
			html,body{
				height: 100%;
			}
			h3 {
				display: inline-block;
				padding: 10px;
				background: #b9121b;
				border-top-left-radius: 10px;
				border-top-right-radius: 10px;
			}
			
			.full-screen {
				background-size: cover;
				background-position: center;
				background-repeat: no-repeat;
			}
			.wrapper{
				height: 1000px;
			}
		</style>
	</head>

	<body>
		<div id="mycarousel" class="carousel slide" >
			<!-- Indicators -->
			<ol class="carousel-indicators">
				<li data-target="#mycarousel" data-slide-to="0"></li>
				<li data-target="#mycarousel" data-slide-to="1"></li>
				<li data-target="#mycarousel" data-slide-to="2"></li>
				<li data-target="#mycarousel" data-slide-to="3"></li>
			</ol>

			<!-- Wrapper for slides -->
			<div class="carousel-inner" role="listbox">
				<div class="item">
					<img src="images/col1.jpg" data-color="lightblue" alt="First Image">
					<div class="carousel-caption">
						<h3>第一张</h3>
					</div>
				</div>
				<div class="item">
					<img src="images/col2.jpg" data-color="firebrick" alt="Second Image">
					<div class="carousel-caption">
						<h3>第二张</h3>
					</div>
				</div>
				<div class="item">
					<img src="images/col3.jpg" data-color="violet" alt="Third Image">
					<div class="carousel-caption">
						<h3>第三张</h3>
					</div>
				</div>
				<div class="item">
					<img src="images/col4.jpg" data-color="tomato" alt="Fifth Image">
					<div class="carousel-caption">
						<h3>第四张</h3>
					</div>
				</div>
			</div>

			<!-- Controls -->
			<a class="left carousel-control" href="#mycarousel" role="button" data-slide="prev">
				<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
				<span class="sr-only">Previous</span>
			</a>
			<a class="right carousel-control" href="#mycarousel" role="button" data-slide="next">
				<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
				<span class="sr-only">Next</span>
			</a>
		</div>
		<div class="wrapper"></div>
	</body>
	<script src="js/jquery.js" type="text/javascript"></script>
	<script src="js/bootstrap.js" type="text/javascript"></script>
	<script type="text/javascript">
		var $item = $('.carousel .item');
		// 获取可视区域的高度
		var $wHeight = $(window).height();
		// 设置高度
		$item.height($wHeight);
		$item.addClass('full-screen');

		var $numberofSlides = $('.item').length;
		console.log('$numberofSlides',$numberofSlides); // 4
		var $currentSlide = Math.floor((Math.random() * $numberofSlides));
		console.log('$currentSlide',$currentSlide);  // 3
		
		$('.carousel-indicators li').each(function() {
			var $slideValue = $(this).attr('data-slide-to'); // 0 1 2 3
			console.log($slideValue);
			if($currentSlide == $slideValue) {
				$(this).addClass('active');
				$item.eq($slideValue).addClass('active');
			} else {
				$(this).removeClass('active');
				$item.eq($slideValue).removeClass('active');
			}
		});
		

		$('.carousel img').each(function() {
			var $src = $(this).attr('src');
			var $color = $(this).attr('data-color');
			$(this).parent().css({
				'background-image': 'url(' + $src + ')',
				'background-color': $color
			});
			$(this).remove();
		});

		$(window).on('resize', function() {
			$wHeight = $(window).height();
			$item.height($wHeight);
		});

		/*$('.carousel').carousel({
			interval: 6000,
			pause: "false"
		});*/
	</script>

</html>